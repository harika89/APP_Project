<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="C:\Users\Admin\.vscode\App_project\css\book.css">
    <script>
        const openBookDetailsPage = (bookId) =>{
            console.log("Book details page opened with BookId: " + bookId);
            window.location.href = `./BookDetails.html?bookId=${bookId}`;
        }
      //let bookId = "8036809654";
    fetch("http://localhost:3001/getAllBooks", {
      method:'GET',
      headers: {'Content-Type': 'application/json'},
    })
    .then((res) => {
      return res.json();
    })
    .then((res) => {
      appendData(res);
    })
    .catch((err) => {
      console.log(err);
    })
    function appendData(data) {
        document.getElementById('test1').innerHTML = data.map(book => 
    `<div>
        <div><h2 style="text-align:center">Book Title : ${book.title}</h2></div>
        <div style="text-align: center;"><img src=${book.book_cover} onclick="openBookDetailsPage(${book.book_id})"alt="image exists" ></img></div>
    </div>`
).join('')

    }
    
    </script>
</head>
<body>
    
<!-- header section starts  -->

<header class="header">

    <div class="header-1">

        <a href="#" class="logo"> <i class="fas fa-book"></i> BOOK SHOP </a>

       <div class="icons">
            <div id="search-btn" class="fas fa-search"></div>
            <a href="#" class="fas fa-heart"></a>
            <a href="#" class="fas fa-shopping-cart"></a>
            <div id="login-btn" class="fas fa-user"></div>
        </div>

    </div>

    <div class="header-2">
        <nav class="navbar">
            <a href="MainPage.html">home</a>
            <a href="AllBooks.html">All books</a>
            <a href="#fiction">fiction</a>
            <a href="#nonfiction">non-fiction</a>
            <a href="#contactus">contact us</a>
        </nav>
    </div>

</header>


<h1  style="text-align:center"></h1>
 
<!-- header section ends -->

<!-- bottom navbar  -->

<nav class="bottom-navbar">
    <a href="#home" class="fas fa-home"></a>
    <a href="#featured" class="fas fa-list"></a>
    <a href="#fiction" class="fas fa-tags"></a>
    <a href="#non-fiction" class="fas fa-comments"></a>
    <a href="#contactus" class="fas fa-blog"></a>
</nav>

<header class="header">
  <div class="header-3">
  <nav class="navbar">
      <a>ALL BOOKS IN OUR STORE</a>   
  </nav>
</div>

</header>

 
   
    <!-- Right Column -->
<div id="test1">
    <div id="myData"></div>
   
      <!-- Product Description -->
      <div class="product-description">
        <h1 id="bname">[BOOK TITLE]</h1>
        <h2 id="auname">[AUTHOR NAME]</h2>
        <p id="bpages">[PAGES]</p>
        <p id="blang">[LANGUAGE]</p>
        <p id="byear">[PUBLISHED DATE]</p>
        <p id="isbn">[ISBN]</p>
      </div>
</div>

  </div>

</body>
